# üé® –í–∏–∑—É–∞–ª—å–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è –≥—Ä—É–ø–ø—ã "–û—Å—Ç–∞–ª—å–Ω–æ–µ"

## üìã –û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### üéØ –ß—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–æ:
- **–ì—Ä—É–ø–ø–∞ "–û—Å—Ç–∞–ª—å–Ω–æ–µ"** —Ç–µ–ø–µ—Ä—å –∏–º–µ–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ –≤–∏–∑—É–∞–ª—å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
- **–ó–≤–µ–∑–¥–æ—á–∫–∞:** —Å—Ç–∞–ª–∞ –æ—á–µ–Ω—å –±–ª–µ–¥–Ω–æ–π (alpha = 0.3f) –∏ —Å–µ—Ä–æ–≥–æ —Ü–≤–µ—Ç–∞
- **–§–æ–Ω:** –∏–∑–º–µ–Ω–µ–Ω –Ω–∞ –±–µ–ª—ã–π —Ü–≤–µ—Ç
- **–î—Ä—É–≥–∏–µ –≥—Ä—É–ø–ø—ã:** —Å–æ—Ö—Ä–∞–Ω—è—é—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ

### üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:

#### 1. –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è `ProductAdapter.kt`
```kotlin
// –í –º–µ—Ç–æ–¥–µ updateVisualElements():
if (productGroup == ProductGroup.OTHER) {
    // –ë–ª–µ–¥–Ω–∞—è –∑–≤–µ–∑–¥–æ—á–∫–∞
    urgentStar.alpha = 0.3f
    urgentStar.setColorFilter(itemView.context.getColor(R.color.text_secondary))
    
    // –ë–µ–ª—ã–π —Ñ–æ–Ω
    itemView.setBackgroundColor(itemView.context.getColor(R.color.white))
} else {
    // –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è –¥—Ä—É–≥–∏—Ö –≥—Ä—É–ø–ø
    // ...
}
```

#### 2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `DiffUtil`
- –î–æ–±–∞–≤–ª–µ–Ω–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –≥—Ä—É–ø–ø: `oldItem.getGroup() == newItem.getGroup()`
- –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ —Å–º–µ–Ω–µ –≥—Ä—É–ø–ø—ã

## üß™ –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:

### 1. –°—Ü–µ–Ω–∞—Ä–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

#### ‚úÖ –¢–æ–≤–∞—Ä—ã –≤ –≥—Ä—É–ø–ø–µ "–û—Å—Ç–∞–ª—å–Ω–æ–µ":
- **–£—Å–ª–æ–≤–∏–µ:** `!isUrgent && !needsToBuy`
- **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
  - ‚≠ê –ë–ª–µ–¥–Ω–∞—è –∑–≤–µ–∑–¥–æ—á–∫–∞ (alpha 0.3f, —Å–µ—Ä—ã–π —Ü–≤–µ—Ç)
  - üìÑ –ë–µ–ª—ã–π —Ñ–æ–Ω –∫–∞—Ä—Ç–æ—á–∫–∏
  - üîÑ –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –≤–ª–µ–≤–æ (–≤—ã–∫–ª—é—á–µ–Ω)

#### ‚úÖ –¢–æ–≤–∞—Ä—ã –≤ –≥—Ä—É–ø–ø–µ "–°—Ä–æ—á–Ω–æ":
- **–£—Å–ª–æ–≤–∏–µ:** `isUrgent && needsToBuy`
- **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
  - ‚≠ê –Ø—Ä–∫–∞—è –∑–≤–µ–∑–¥–æ—á–∫–∞ (alpha 1.0f, –æ—Ä–∞–Ω–∂–µ–≤—ã–π —Ü–≤–µ—Ç)
  - üìÑ –°–≤–µ—Ç–ª–æ-–∫—Ä–∞—Å–Ω—ã–π —Ñ–æ–Ω
  - üîÑ –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –≤–ø—Ä–∞–≤–æ (–≤–∫–ª—é—á–µ–Ω)

#### ‚úÖ –¢–æ–≤–∞—Ä—ã –≤ –≥—Ä—É–ø–ø–µ "–í–∞–∂–Ω–æ":
- **–£—Å–ª–æ–≤–∏–µ:** `!isUrgent && needsToBuy`
- **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
  - ‚≠ê –ë–ª–µ–¥–Ω–∞—è –∑–≤–µ–∑–¥–æ—á–∫–∞ (alpha 0.4f, –æ—Ä–∞–Ω–∂–µ–≤—ã–π —Ü–≤–µ—Ç)
  - üìÑ –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ñ–æ–Ω
  - üîÑ –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –≤–ø—Ä–∞–≤–æ (–≤–∫–ª—é—á–µ–Ω)

### 2. –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

#### üîÑ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–π:
1. **–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä** ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
2. **–í–∫–ª—é—á–∏—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å** ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ—Ö–æ–¥ –≤ –Ω—É–∂–Ω—É—é –≥—Ä—É–ø–ø—É
3. **–ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ –∑–≤–µ–∑–¥–æ—á–∫—É** ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
4. **–í—ã–∫–ª—é—á–∏—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å** ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ—Ö–æ–¥ –≤ –≥—Ä—É–ø–ø—É "–û—Å—Ç–∞–ª—å–Ω–æ–µ"

#### üì± –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö:
- **–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π Android**
- **MIUI/Xiaomi** (–æ—Å–æ–±–æ–µ –≤–Ω–∏–º–∞–Ω–∏–µ –∫ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏)
- **–î—Ä—É–≥–∏–µ –æ–±–æ–ª–æ—á–∫–∏**

## üéØ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

### –í–∏–∑—É–∞–ª—å–Ω–æ–µ —Ä–∞–∑–ª–∏—á–∏–µ –≥—Ä—É–ø–ø:

| –ì—Ä—É–ø–ø–∞ | –ó–≤–µ–∑–¥–æ—á–∫–∞ | –§–æ–Ω | –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å |
|--------|-----------|------|--------------|
| **–°—Ä–æ—á–Ω–æ** | üåü –Ø—Ä–∫–∞—è –æ—Ä–∞–Ω–∂–µ–≤–∞—è | üî¥ –°–≤–µ—Ç–ª–æ-–∫—Ä–∞—Å–Ω—ã–π | ‚û°Ô∏è –í–ø—Ä–∞–≤–æ |
| **–í–∞–∂–Ω–æ** | ‚≠ê –ë–ª–µ–¥–Ω–∞—è –æ—Ä–∞–Ω–∂–µ–≤–∞—è | üìÑ –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π | ‚û°Ô∏è –í–ø—Ä–∞–≤–æ |
| **–û—Å—Ç–∞–ª—å–Ω–æ–µ** | ‚≠ê –û—á–µ–Ω—å –±–ª–µ–¥–Ω–∞—è —Å–µ—Ä–∞—è | ‚¨ú –ë–µ–ª—ã–π | ‚¨ÖÔ∏è –í–ª–µ–≤–æ |

## üêù –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è:

### 1. –ï—Å–ª–∏ –∑–≤–µ–∑–¥–æ—á–∫–∞ –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è:
- **–ü—Ä–∏—á–∏–Ω–∞:** –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ RecyclerView
- **–†–µ—à–µ–Ω–∏–µ:** –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–ª–∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å DiffUtil

### 2. –ï—Å–ª–∏ —Ñ–æ–Ω –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è:
- **–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–µ—Å—É—Ä—Å —Ü–≤–µ—Ç–∞
- **–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ `R.color.white` –≤ colors.xml

### 3. –ï—Å–ª–∏ –≤—Å–µ —Ç–æ–≤–∞—Ä—ã —Å—Ç–∞–ª–∏ –±–µ–ª—ã–º–∏:
- **–ü—Ä–∏—á–∏–Ω–∞:** –û—à–∏–±–∫–∞ –≤ –ª–æ–≥–∏–∫–µ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏
- **–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–µ—Ç–æ–¥ `getGroup()` –≤ Product.kt

## üìù –ó–∞–º–µ—Ç–∫–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:

- **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∫–æ–¥–æ–º
- **–î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –≤ Product.kt –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏
- **–£—Å–∏–ª–µ–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ** –¥–ª—è MIUI —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
- **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω DiffUtil** –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å –≥—Ä—É–ø–ø–∞–º–∏

---
*–°–æ–∑–¥–∞–Ω–æ: 06.11.2025*  
*–í–µ—Ç–∫–∞: feature/other-group-visual-fix*
